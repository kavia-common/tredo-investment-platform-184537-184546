{"is_source_file": true, "format": "TypeScript", "description": "This file defines the SubscriptionService class in Angular, which manages subscription lifecycle operations such as retrieving user's subscriptions, creating new subscriptions, and canceling existing ones. It uses dependency injection to access an API service and collaborates with the Subscription model.", "external_files": ["./api.service", "../models/subscription.model"], "external_methods": ["BaseApiService.get", "BaseApiService.post"], "published": ["SubscriptionService"], "classes": [{"name": "SubscriptionService", "description": "Angular service for managing subscriptions, providing methods to list, create, and cancel subscriptions."}], "methods": [{"name": "mySubscriptions", "description": "Returns an observable of the current user's subscriptions, either mocked or fetched from API."}, {"name": "subscribe", "description": "Creates a new subscription for the given folioId, returning an observable of the created subscription."}, {"name": "cancel", "description": "Cancels the subscription with the specified ID."}], "calls": ["inject(BaseApiService)", "of(mock)", "this.api.get<Subscription[]>('/subscriptions/me')", "of(mock)", "this.api.post<Subscription>('/subscriptions', { folioId })", "of(void 0)", "this.api.post<void>(`/subscriptions/${id}/cancel`, {})"], "search-terms": ["Angular", "SubscriptionService", "subscribe", "cancel", "mySubscriptions", "core/services/subscription.service.ts"], "state": 2, "file_id": 67, "knowledge_revision": 176, "git_revision": "df34bcb7696621fe785c8bf87964b72963e86853", "ctags": [{"_type": "tag", "name": "SubscriptionService", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/core/services/subscription.service.ts", "pattern": "/^export class SubscriptionService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/core/services/subscription.service.ts", "pattern": "/^  private readonly api = inject(BaseApiService);$/", "language": "TypeScript", "kind": "property", "scope": "SubscriptionService", "scopeKind": "class"}, {"_type": "tag", "name": "mock", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/core/services/subscription.service.ts", "pattern": "/^      const mock: Subscription = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "mock", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/core/services/subscription.service.ts", "pattern": "/^      const mock: Subscription[] = [$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "now", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/core/services/subscription.service.ts", "pattern": "/^      const now = new Date();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/core/services/subscription.service.ts", "pattern": "/^        status: 'active',$/", "language": "TypeScript", "kind": "constant"}], "hash": "ecc89a51aab55749a2d4791e572efe07", "format-version": 4, "code-base-name": "tredo_frontend", "filename": "tredo_frontend/src/app/core/services/subscription.service.ts", "fields": [{"name": "private readonly api = inject(BaseApiService);", "scope": "SubscriptionService", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"176": "df34bcb7696621fe785c8bf87964b72963e86853"}]}