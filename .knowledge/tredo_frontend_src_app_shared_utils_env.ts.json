{"is_source_file": true, "format": "TypeScript", "description": "This file defines utility functions for accessing environment configuration values, including various environment URLs, feature flags, and runtime flags, with fallback to a static environment object. It provides functions to determine if the app is in mock mode, retrieve environment-specific URLs, and safely read environment variables across server-side rendering and browser contexts.", "external_files": ["../../../environments/environment"], "external_methods": [], "published": ["getEnvironment", "isMockMode", "getApiBase", "getBackendUrl", "getFrontendUrl", "getWsUrl", "getNodeEnv"], "classes": [], "methods": [{"name": "function readEnvVar(key: string): string | undefined { readEnvVar", "description": "Safely reads an environment variable from globalThis.process.env, handling SSR/browser context differences.", "scope": "", "scopeKind": ""}, {"name": "export function getEnvironment(): EnvironmentShape { getEnvironment", "description": "Returns the current environment configuration merged with runtime environment variables.", "scope": "", "scopeKind": ""}, {"name": "export function isMockMode(): boolean { isMockMode", "description": "Determines if the application should run in mock mode based on feature flags or environment variables.", "scope": "", "scopeKind": ""}, {"name": "export function getApiBase(): string { getApiBase", "description": "Retrieves the API base URL, preferring runtime environment variables over static config.", "scope": "", "scopeKind": ""}, {"name": "export function getBackendUrl(): string { getBackendUrl", "description": "Retrieves the backend URL with preference for runtime environment variables.", "scope": "", "scopeKind": ""}, {"name": "export function getFrontendUrl(): string { getFrontendUrl", "description": "Retrieves the frontend URL with preference for runtime environment variables.", "scope": "", "scopeKind": ""}, {"name": "export function getWsUrl(): string { getWsUrl", "description": "Retrieves the WebSocket URL with preference for runtime environment variables.", "scope": "", "scopeKind": ""}, {"name": "export function getNodeEnv(): string { getNodeEnv", "description": "Retrieves the node environment string, defaulting to 'development' if not specified.", "scope": "", "scopeKind": ""}], "calls": ["../../../environments/environment", "readEnvVar"], "search-terms": ["environment", "config", "runtime environment", "environment variables", "environment URLs", "feature flags", "SSR"], "state": 2, "file_id": 47, "knowledge_revision": 168, "git_revision": "df34bcb7696621fe785c8bf87964b72963e86853", "revision_history": [{"105": "7e7d822b5a634336d27e79c108d09e5220e49b3e"}, {"168": "df34bcb7696621fe785c8bf87964b72963e86853"}], "ctags": [{"_type": "tag", "name": "EnvironmentShape", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^export type EnvironmentShape = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "flags", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^    const flags = (flagsRaw || '')$/", "language": "TypeScript", "kind": "constant", "scope": "isMockMode", "scopeKind": "function"}, {"_type": "tag", "name": "flagsRaw", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^    const flagsRaw = readEnvVar('NG_APP_FEATURE_FLAGS') ?? (env.featureFlags || '');$/", "language": "TypeScript", "kind": "constant", "scope": "isMockMode", "scopeKind": "function"}, {"_type": "tag", "name": "g", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^    const g: any = (globalThis as any);$/", "language": "TypeScript", "kind": "constant", "scope": "readEnvVar", "scopeKind": "function"}, {"_type": "tag", "name": "getApiBase", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^export function getApiBase(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getBackendUrl", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^export function getBackendUrl(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getEnvironment", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^export function getEnvironment(): EnvironmentShape {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getFrontendUrl", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^export function getFrontendUrl(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getNodeEnv", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^export function getNodeEnv(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getWsUrl", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^export function getWsUrl(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "isMockMode", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^export function isMockMode(): boolean {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "merged", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^  const merged: EnvironmentShape = {$/", "language": "TypeScript", "kind": "constant", "scope": "getEnvironment", "scopeKind": "function"}, {"_type": "tag", "name": "readEnvVar", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^function readEnvVar(key: string): string | undefined {$/", "language": "TypeScript", "kind": "function"}], "hash": "3edbffe9a0f6651b08d32fb3908734e1", "format-version": 4, "code-base-name": "tredo_frontend", "filename": "tredo_frontend/src/app/shared/utils/env.ts"}