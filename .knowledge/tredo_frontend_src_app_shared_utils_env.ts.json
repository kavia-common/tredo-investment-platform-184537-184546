{"is_source_file": true, "format": "TypeScript", "description": "This file provides utility functions for environment configuration, including reading environment variables safely in different execution contexts, and exposing configuration parameters such as API URLs, feature flags, and environment settings for the application.", "external_files": ["../../../environments/environment"], "external_methods": ["environment as env"], "published": ["getEnvironment", "isMockMode", "getApiBase", "getBackendUrl", "getFrontendUrl", "getWsUrl", "getNodeEnv"], "classes": [], "methods": [{"name": "function readEnvVar(key: string): string | undefined { readEnvVar", "description": "Safely reads an environment variable by key from globalThis.process.env, compatible with SSR and browser environments.", "scope": "", "scopeKind": ""}, {"name": "export function getEnvironment(): EnvironmentShape { getEnvironment", "description": "Returns the current environment configuration merged with runtime feature flags.", "scope": "", "scopeKind": ""}, {"name": "export function isMockMode(): boolean { isMockMode", "description": "Determines if the app should run in mock mode based on feature flags.", "scope": "", "scopeKind": ""}, {"name": "export function getApiBase(): string { getApiBase", "description": "Returns the API base URL, preferring runtime overrides.", "scope": "", "scopeKind": ""}, {"name": "export function getBackendUrl(): string { getBackendUrl", "description": "Returns the backend URL, with runtime override capability.", "scope": "", "scopeKind": ""}, {"name": "export function getFrontendUrl(): string { getFrontendUrl", "description": "Provides the frontend URL, considering runtime environment variables.", "scope": "", "scopeKind": ""}, {"name": "export function getWsUrl(): string { getWsUrl", "description": "Returns the websocket URL with potential runtime override.", "scope": "", "scopeKind": ""}, {"name": "export function getNodeEnv(): string { getNodeEnv", "description": "Returns the node environment string, with override support.", "scope": "", "scopeKind": ""}], "calls": ["../../../environments/environment", "globalThis?.process?.env?.[key]"], "search-terms": ["environment configuration", "runtime feature flags", "environment variable access", "API URL configuration", "TypeScript environment utility"], "state": 2, "file_id": 47, "knowledge_revision": 105, "git_revision": "7e7d822b5a634336d27e79c108d09e5220e49b3e", "ctags": [{"_type": "tag", "name": "EnvironmentShape", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^export type EnvironmentShape = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "flags", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^    const flags = (flagsRaw || '')$/", "language": "TypeScript", "kind": "constant", "scope": "isMockMode", "scopeKind": "function"}, {"_type": "tag", "name": "flagsRaw", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^    const flagsRaw = readEnvVar('NG_APP_FEATURE_FLAGS') ?? (env.featureFlags || '');$/", "language": "TypeScript", "kind": "constant", "scope": "isMockMode", "scopeKind": "function"}, {"_type": "tag", "name": "g", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^    const g: any = (globalThis as any);$/", "language": "TypeScript", "kind": "constant", "scope": "readEnvVar", "scopeKind": "function"}, {"_type": "tag", "name": "getApiBase", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^export function getApiBase(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getBackendUrl", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^export function getBackendUrl(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getEnvironment", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^export function getEnvironment(): EnvironmentShape {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getFrontendUrl", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^export function getFrontendUrl(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getNodeEnv", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^export function getNodeEnv(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getWsUrl", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^export function getWsUrl(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "isMockMode", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^export function isMockMode(): boolean {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "merged", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^  const merged: EnvironmentShape = {$/", "language": "TypeScript", "kind": "constant", "scope": "getEnvironment", "scopeKind": "function"}, {"_type": "tag", "name": "readEnvVar", "path": "/home/kavia/workspace/code-generation/tredo-investment-platform-184537-184546/tredo_frontend/src/app/shared/utils/env.ts", "pattern": "/^function readEnvVar(key: string): string | undefined {$/", "language": "TypeScript", "kind": "function"}], "hash": "2afc8baa5a8a528655dec26da9aa5078", "format-version": 4, "code-base-name": "tredo_frontend", "filename": "tredo_frontend/src/app/shared/utils/env.ts", "revision_history": [{"105": "7e7d822b5a634336d27e79c108d09e5220e49b3e"}]}